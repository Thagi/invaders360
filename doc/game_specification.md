# Polygon Spiral - ゲーム仕様書

## ゲーム概要

**Polygon Spiral**は、クラシックなスペースインベーダーを360度の円形フィールドに再構築した、モダンなシューティングゲームです。プレイヤーは中心で回転する砲台を操作し、外周から迫る敵を撃退します。

---

## ゲームモード

### 1. クラシック (CLASSIC)
- 標準的なウェーブ防衛モード
- ライフ: 3
- ウェーブをクリアするごとにアップグレードを選択可能
- ウェーブごとに難易度が上昇

### 2. 時間制限 (TIME ATTACK)
- 3分間のスコアアタックモード
- より多くの敵が出現（基本30体 + ウェーブごとに5体増加）
- 攻撃的なシューター敵が多数出現
- 高スコアを目指す競技モード

### 3. サバイバル (SURVIVAL)
- ライフ1の高難易度モード
- 一撃でゲームオーバー
- ウェーブクリア時のライフ回復なし
- 上級者向けチャレンジモード

---

## 操作方法

### キーボード操作
- **A / 左矢印キー**: 左回転
- **D / 右矢印キー**: 右回転
- **スペースキー**: 射撃
- **B キー**: ボム（特殊攻撃）
- **P / Escキー**: ポーズ

---

## 敵の種類

### 基本敵

#### 1. ノーマル (赤)
- 標準的な敵
- HP: 1
- スコア: 100点

#### 2. スピード (赤・コーン型)
- 高速で接近
- HP: 1
- スコア: 150点

#### 3. タンク (水色・大型)
- 移動は遅いが耐久力が高い
- HP: 5
- スコア: 300点

#### 4. シューター (紫・逆円錐)
- 一定距離で停止し、弾を発射
- HP: 2
- スコア: 200点
- 時間制限モードではより頻繁に攻撃

#### 5. スプリッター (オレンジ・八面体)
- 破壊すると小型の敵に分裂
- HP: 2
- スコア: 250点 + ミニ敵50点×2-3体

### 特殊敵

#### 6. ジグザグ (緑・円柱)
- サインカーブで蛇行しながら接近
- HP: 1
- スコア: 175点

#### 7. カミカゼ (赤・コーン型)
- 接近すると加速してプレイヤーに突進
- HP: 1
- スコア: 200点

#### 8. シールド (青・球体)
- プレイヤー方向にシールドを展開
- シールド側からの攻撃は無効
- HP: 3
- スコア: 350点

#### 9. テレポート (マゼンタ・四面体)
- 定期的にランダムな位置にテレポート
- 半透明で視認しづらい
- HP: 2
- スコア: 300点

#### 10. レーザー (マゼンタ・直方体)
- 遠距離から細長いレーザー弾を発射
- HP: 3
- スコア: 400点

### ボス

#### ステージボス (オレンジ・大型立方体)
- ウェーブごとに出現
- プレイヤーを狙って弾を発射
- HP: 5
- スコア: 1000点

---

## パワーアップ

ゲーム中に出現するパワーアップアイテム：

### 1. タイムスロー (水色)
- 効果時間: 5秒
- 敵の動きが50%減速

### 2. マグネット (黄色)
- 効果時間: 8秒
- アイテムを自動回収

### 3. 無敵 (緑)
- 効果時間: 5秒
- ダメージを受けない

---

## アップグレードシステム

ウェーブクリア後に選択可能な永続アップグレード：

### 攻撃系
- **ラピッドファイア**: 射撃速度 +20%
- **パワーショット**: 弾のサイズと威力 +20%

### 防御・移動系
- **スラスター**: 移動速度 +20%
- **船体修理**: ライフ +1

### その他
- **追加ボム**: ボムの使用回数 +1
- **スコアブースト**: スコア獲得 +20%

> アップグレードは累積可能で、最大5段階まで強化できます。

---

## コンボシステム

- 連続して敵を倒すとコンボが増加
- コンボ数に応じてスコア倍率が上昇
- 一定時間敵を倒さないとコンボがリセット

---

## 障害物

フィールド上に配置される破壊可能な障害物（小惑星）：
- プレイヤーと敵の弾を遮蔽
- 複数回攻撃すると破壊
- 破壊時にパーティクルエフェクト

---

## ビジュアルエフェクト

### 背景
- **トンネル背景**: 奥に向かって移動するリング
- **星フィールド**: ランダムに配置された星
- **パーティクル**: 深度を表す粒子

### エフェクト
- 敵破壊時のパーティクル爆発
- ボム発動時の衝撃波
- コンボ表示
- スコアポップアップ

---

## スコアシステム

### 基本スコア
- 敵のタイプによって異なるスコア
- コンボ倍率による加算

### ボーナス
- 完全クリア（ノーダメージ）ボーナス
- タイムアタックモードの時間ボーナス
- コンボボーナス

---

## 技術仕様

### 使用技術
- **Three.js**: 3Dレンダリング
- **Vite**: ビルドツール
- **Vanilla JavaScript**: ゲームロジック

### ファイル構成
```
invaders360/
├── index.html              # メインHTML
├── src/
│   ├── main.js            # エントリーポイント
│   ├── style.css          # スタイル
│   ├── utils/
│   │   └── math.js        # 数学ユーティリティ
│   └── game/
│       ├── Game.js        # メインゲームクラス
│       ├── Player.js      # プレイヤー
│       ├── EnemyManager.js    # 敵管理
│       ├── BulletManager.js   # 弾管理
│       ├── PowerUpManager.js  # パワーアップ管理
│       ├── WaveManager.js     # ウェーブ管理
│       ├── UpgradeManager.js  # アップグレード管理
│       └── ...            # その他のマネージャー
```

---

## 今後の展開

### 実装予定の機能
- ボス用ホーミングミサイル
- 追加の敵タイプ
- 新しいパワーアップ
- リーダーボード（ハイスコア保存）

---

## クレジット

**Polygon Spiral** - モダン360度シューティングゲーム  
Powered by Three.js

---

## ライセンス

このゲームはオープンソースプロジェクトです。詳細はリポジトリのLICENSEファイルを参照してください。
